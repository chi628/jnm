{"version":3,"sources":["webpack:///./src/components/Pagination.vue?55e8","webpack:///src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?b5ee","webpack:///./src/components/Pagination.vue","webpack:///./node_modules/core-js/modules/es.array.some.js","webpack:///./src/views/fronted/Products.vue?c9df","webpack:///src/views/fronted/Products.vue","webpack:///./src/views/fronted/Products.vue?a2ee","webpack:///./src/views/fronted/Products.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_l","page","key","on","$event","preventDefault","updatePage","_s","staticRenderFns","data","props","methods","$emit","num","component","$","$some","some","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","target","proto","forced","callbackfn","arguments","length","undefined","isLoading","item","id","imageUrl","title","price","addToCart","pagination","getProducts","components","Pagination","products","showProducts","cart","addcart","isInCart","router","axios","getCart","cartitem","product","quantity","created","$bus","$on"],"mappings":"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","file":"js/chunk-3c9cf76c.22968056.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pagination\"},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"«\")]),_vm._l((_vm.page.total_pages),function(page){return _c('a',{key:page,attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.updatePage(page)}}},[_vm._v(_vm._s(page))])}),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"»\")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"pagination\">\n    <a href=\"#\">&laquo;</a>\n    <a href=\"#\" v-for=\"page in page.total_pages\" :key=\"page\"\n    @click.prevent=\"updatePage(page)\">{{page}}</a>\n    <a href=\"#\">&raquo;</a>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {};\n  },\n  props: ['page'],\n  methods: {\n    updatePage(num) {\n      this.$emit('updatepage', num);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=c0db1f42&\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $some = require('../internals/array-iteration').some;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('some');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('some');\n\n// `Array.prototype.some` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.some\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"products\"},[_vm._l((_vm.showProducts),function(item){return _c('div',{key:item.id,staticClass:\"products_list\"},[_c('div',{staticClass:\"products_header\"},[_c('router-link',{attrs:{\"to\":(\"/product/\" + (item.id))}},[_c('img',{staticClass:\"products_header_img\",attrs:{\"src\":(\"\" + (item.imageUrl[0])),\"alt\":\"\"}}),_c('button',{staticClass:\"products_header_btn\",attrs:{\"type\":\"button\"}},[_vm._v(\"Quick View\")])])],1),_c('div',{staticClass:\"products_container\"},[_c('div',[_c('router-link',{staticClass:\"products_container_title\",attrs:{\"to\":(\"/product/\" + (item.id))}},[_vm._v(\" \"+_vm._s(item.title)+\" \")])],1),_c('div',{staticClass:\"products_container_price\"},[_c('p',[_vm._v(\"NT$\"+_vm._s(item.price))])])]),_c('div',{staticClass:\"products_footer\"},[_c('button',{staticClass:\"products_footer_btn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addToCart(item)}}},[_vm._v(\"Add To Cart\")])])])}),_c('div',{staticClass:\"products-pagination\"},[_c('Pagination',{attrs:{\"page\":_vm.pagination},on:{\"updatepage\":_vm.getProducts}})],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <loading :active.sync=\"isLoading\"></loading>\n    <div class=\"products\">\n      <div v-for=\"item in showProducts\" :key=\"item.id\" class=\"products_list\">\n        <div class=\"products_header\">\n          <router-link :to=\"`/product/${item.id}`\">\n            <img :src=\"`${item.imageUrl[0]}`\" alt class=\"products_header_img\" />\n            <button type=\"button\" class=\"products_header_btn\">Quick View</button>\n          </router-link>\n        </div>\n        <div class=\"products_container\">\n          <!-- <div>\n            <button type=\"button\" class=\"products_container_wish\">\n              <i class=\"far fa-heart\"></i>\n            </button>\n            <button type=\"button\" class=\"products_container_wish_hover\">\n              <i class=\"fas fa-heart\"></i>\n            </button>\n          </div>-->\n          <div>\n            <router-link\n              :to=\"`/product/${item.id}`\"\n              class=\"products_container_title\">\n              {{item.title}}\n            </router-link>\n          </div>\n          <div class=\"products_container_price\">\n            <p>NT${{item.price}}</p>\n          </div>\n        </div>\n        <div class=\"products_footer\">\n          <button\n           type=\"button\" class=\"products_footer_btn\" @click=\"addToCart(item)\">Add To Cart</button>\n        </div>\n      </div>\n      <div class=\"products-pagination\">\n        <Pagination :page=\"pagination\" @updatepage=\"getProducts\" />\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Pagination from '@/components/Pagination.vue';\n\nexport default {\n  components: {\n    Pagination,\n  },\n  data() {\n    return {\n      products: [],\n      showProducts: [],\n      cart: [],\n      isLoading: false,\n      pagination: {},\n      addcart: false,\n      isInCart: false,\n      router: '',\n    };\n  },\n  methods: {\n    getProducts(num = 1) {\n      const { category } = this.$route.params;\n      this.isLoading = true;\n      this.axios\n        .get(\n          `${process.env.VUE_APP_ApiPath}/api/${process.env.VUE_APP_UUID}/ec/products?page=${num}`,\n        )\n        .then((res) => {\n          this.isLoading = false;\n          this.showProducts = [];\n          this.products = res.data.data;\n          this.pagination = res.data.meta.pagination;\n          this.products.forEach((product) => {\n            if (category === product.category) {\n              this.showProducts.push(product);\n              this.category = category;\n            } else if (category === 'all') {\n              this.showProducts = this.products;\n              this.category = 'All Products';\n            }\n          });\n          if (this.showProducts.length < 16) {\n            this.pagination.total_pages = 1;\n          }\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          this.isLoading = false;\n          console.log(err);\n        });\n    },\n    getCart() {\n      this.isLoading = true;\n      this.axios\n        .get(\n          `${process.env.VUE_APP_ApiPath}/api/${process.env.VUE_APP_UUID}/ec/shopping`,\n        )\n        .then((res) => {\n          this.cart = res.data.data;\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          this.isLoading = false;\n          console.log(err);\n        });\n    },\n    addToCart(item, quantity = 1) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_ApiPath}/api/${process.env.VUE_APP_UUID}/ec/shopping`;\n      this.isInCart = this.cart.some((cartitem) => {\n        if (cartitem.product.id === item.id) {\n          const data = {\n            product: item.id,\n            quantity: cartitem.quantity + 1,\n          };\n          this.axios\n            .patch(url, data)\n            .then(() => {\n              this.addcart = true;\n              this.getCart();\n              this.$bus.$emit('addcart');\n              this.isLoading = false;\n            }).catch((err) => {\n              this.isLoading = false;\n              console.log(err);\n            });\n          return true;\n        }\n        return false;\n      });\n      if (!this.isInCart) {\n        const cart = {\n          product: item.id,\n          quantity,\n        };\n        this.axios\n          .post(url, cart)\n          .then(() => {\n            this.addcart = true;\n            this.getCart();\n            this.$bus.$emit('addcart');\n            this.isLoading = false;\n          })\n          .catch((err) => {\n            this.isLoading = false;\n            console.log(err);\n          });\n      }\n    },\n  },\n  created() {\n    this.getProducts();\n    this.getCart();\n    this.$bus.$on('getproducts', () => {\n      this.getProducts();\n    });\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Products.vue?vue&type=template&id=7ab5c89d&\"\nimport script from \"./Products.vue?vue&type=script&lang=js&\"\nexport * from \"./Products.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}