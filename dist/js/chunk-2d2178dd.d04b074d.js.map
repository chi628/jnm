{"version":3,"sources":["webpack:///./src/views/fronted/Ordercheck.vue?c9d9","webpack:///src/views/fronted/Ordercheck.vue","webpack:///./src/views/fronted/Ordercheck.vue?de9e","webpack:///./src/views/fronted/Ordercheck.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_m","_l","item","key","id","attrs","product","imageUrl","_s","title","directives","name","rawName","value","expression","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","$set","multiple","updateCart","quantity","price","subtotal","removeCartItem","shipping","discount","staticRenderFns","data","cart","methods","getCart","axios","console","log","num","isLoading","created","component"],"mappings":"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","file":"js/chunk-2d2178dd.d04b074d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"checkorder\"},[_c('h1',[_vm._v(\"Shopping Cart\")]),_c('table',{staticClass:\"checkorder_table\"},[_vm._m(0),_c('tbody',_vm._l((_vm.cart),function(item){return _c('tr',{key:item.id},[_c('th',{staticClass:\"order\"},[_c('div',{staticClass:\"order\"},[_c('div',{staticClass:\"order-img\"},[_c('img',{attrs:{\"src\":item.product.imageUrl[0],\"alt\":\"\"}})]),_c('div',{staticClass:\"order-title\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(_vm._s(item.product.title))])],1)])]),_c('th',[_c('div',{staticClass:\"checkorder_table_quantity\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.quantity),expression:\"item.quantity\"}],on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(item, \"quantity\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.updateCart(item.product.id,item.quantity)}]}},[_c('option',{attrs:{\"value\":\"1\"}},[_vm._v(\"1\")]),_c('option',{attrs:{\"value\":\"2\"}},[_vm._v(\"2\")]),_c('option',{attrs:{\"value\":\"3\"}},[_vm._v(\"3\")]),_c('option',{attrs:{\"value\":\"4\"}},[_vm._v(\"4\")]),_c('option',{attrs:{\"value\":\"5\"}},[_vm._v(\"5\")]),_c('option',{attrs:{\"value\":\"6\"}},[_vm._v(\"6\")]),_c('option',{attrs:{\"value\":\"7\"}},[_vm._v(\"7\")]),_c('option',{attrs:{\"value\":\"8\"}},[_vm._v(\"8\")]),_c('option',{attrs:{\"value\":\"9\"}},[_vm._v(\"9\")]),_c('option',{attrs:{\"value\":\"10\"}},[_vm._v(\"10\")])])])]),_c('th',[_vm._v(_vm._s(item.product.price))]),_c('th',[_vm._v(_vm._s(_vm.subtotal))]),_c('th',[_c('button',{staticClass:\"checkorder_table_remove\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.removeCartItem(item.product.id)}}},[_c('i',{staticClass:\"far fa-trash-alt\"})])])])}),0)]),_vm._m(1),_c('div',{staticClass:\"checkorder_total\"},[_c('ul',[_c('li',[_c('span',[_vm._v(\"Subtotal\")]),_c('span',[_vm._v(_vm._s(_vm.subtotal))])]),_c('li',[_c('span',[_vm._v(\"Shipping\")]),_c('span',[_vm._v(_vm._s(_vm.shipping))])]),_c('li',[_c('span',[_vm._v(\"Discount\")]),_c('span',[_vm._v(_vm._s(_vm.discount))])]),_c('li',[_c('span',[_vm._v(\"Total\")]),_c('span',[_vm._v(_vm._s(_vm.subtotal+_vm.shipping-_vm.discount))])])])]),_c('div',{staticClass:\"checkorder_btn\"},[_c('router-link',{staticClass:\"checkorder_btn_back\",attrs:{\"to\":\"/\"}},[_c('button',{attrs:{\"type\":\"button\"}},[_vm._v(\"« Back to Shopping\")])]),_c('router-link',{staticClass:\"checkorder_btn_next\",attrs:{\"to\":\"/orderinfo\"}},[_c('button',{attrs:{\"type\":\"button\"}},[_vm._v(\"Order »\")])])],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"width\":\"50%\"}},[_vm._v(\"商品資訊\")]),_c('th',[_vm._v(\"數量\")]),_c('th',[_vm._v(\"單價\")]),_c('th',[_vm._v(\"小計\")]),_c('th',[_vm._v(\"刪除\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"checkorder_coupon\"},[_c('input',{attrs:{\"type\":\"text\",\"placeholder\":\"Enter discount code\"}}),_c('button',{attrs:{\"type\":\"submit\"}},[_vm._v(\"Apply\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"checkorder\">\n    <h1>Shopping Cart</h1>\n    <table class=\"checkorder_table\">\n      <thead>\n        <tr>\n          <th width=\"50%\">商品資訊</th>\n          <th>數量</th>\n          <th>單價</th>\n          <th>小計</th>\n          <th>刪除</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"item in cart\" :key=\"item.id\">\n          <th class=\"order\">\n            <div class=\"order\">\n              <div class=\"order-img\">\n                <img :src=\"item.product.imageUrl[0]\" alt />\n              </div>\n              <div class=\"order-title\">\n                <router-link to=\"/\">{{item.product.title}}</router-link>\n              </div>\n            </div>\n          </th>\n          <th>\n            <div class=\"checkorder_table_quantity\">\n              <select v-model=\"item.quantity\" @change=\"updateCart(item.product.id,item.quantity)\">\n                <option value=\"1\">1</option>\n                <option value=\"2\">2</option>\n                <option value=\"3\">3</option>\n                <option value=\"4\">4</option>\n                <option value=\"5\">5</option>\n                <option value=\"6\">6</option>\n                <option value=\"7\">7</option>\n                <option value=\"8\">8</option>\n                <option value=\"9\">9</option>\n                <option value=\"10\">10</option>\n              </select>\n            </div>\n          </th>\n          <th>{{item.product.price}}</th>\n          <th>{{subtotal}}</th>\n          <th>\n            <button\n              type=\"button\"\n              class=\"checkorder_table_remove\"\n              @click=\"removeCartItem(item.product.id)\"\n            >\n              <i class=\"far fa-trash-alt\"></i>\n            </button>\n          </th>\n        </tr>\n      </tbody>\n    </table>\n    <div class=\"checkorder_coupon\">\n      <input type=\"text\" placeholder=\"Enter discount code\" />\n      <button type=\"submit\">Apply</button>\n    </div>\n\n    <div class=\"checkorder_total\">\n      <ul>\n        <li>\n          <span>Subtotal</span>\n          <span>{{subtotal}}</span>\n        </li>\n        <li>\n          <span>Shipping</span>\n          <span>{{shipping}}</span>\n        </li>\n        <li>\n          <span>Discount</span>\n          <span>{{discount}}</span>\n        </li>\n        <li>\n          <span>Total</span>\n          <span>{{subtotal+shipping-discount}}</span>\n        </li>\n      </ul>\n    </div>\n    <div class=\"checkorder_btn\">\n      <router-link to=\"/\" class=\"checkorder_btn_back\">\n        <button type=\"button\">&laquo; Back to Shopping</button>\n      </router-link>\n      <router-link to=\"/orderinfo\" class=\"checkorder_btn_next\">\n        <button type=\"button\">Order &raquo;</button>\n      </router-link>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      cart: [],\n      subtotal: 0,\n      shipping: 60,\n      discount: 0,\n    };\n  },\n  methods: {\n    getCart() {\n      // this.isLoading = true;\n      this.axios\n        .get(\n          `${process.env.VUE_APP_ApiPath}/api/${process.env.VUE_APP_UUID}/ec/shopping`,\n        )\n        .then((res) => {\n          console.log('ordercheck', res.data.data);\n          // this.isLoading = false;\n          this.cart = res.data.data;\n          this.subtotal = 0;\n          this.cart.forEach((item) => {\n            this.subtotal += item.product.price * item.quantity;\n          });\n        })\n        .catch((err) => {\n          // this.isLoading = false;\n          console.log(err);\n        });\n    },\n\n    updateCart(id, num) {\n      console.log('orderupdate', id, num);\n      this.isLoading = true;\n      console.log('update', id, num);\n      const url = `${process.env.VUE_APP_ApiPath}/api/${process.env.VUE_APP_UUID}/ec/shopping`;\n      const data = {\n        product: id,\n        quantity: num,\n      };\n      this.axios\n        .patch(url, data)\n        .then((res) => {\n          console.log(res);\n          this.getCart();\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          this.isLoading = false;\n          console.log(err);\n        });\n    },\n    removeCartItem(id) {\n      // console.log('delete', id);\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_ApiPath}/api/${process.env.VUE_APP_UUID}/ec/shopping/${id}`;\n      this.axios\n        .delete(url)\n        .then((res) => {\n          console.log(res);\n          this.isLoading = false;\n          this.getCart();\n        })\n        .catch((err) => {\n          this.isLoading = false;\n          console.log(err);\n        });\n    },\n  },\n  created() {\n    this.getCart();\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ordercheck.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ordercheck.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Ordercheck.vue?vue&type=template&id=ef14eb00&\"\nimport script from \"./Ordercheck.vue?vue&type=script&lang=js&\"\nexport * from \"./Ordercheck.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}