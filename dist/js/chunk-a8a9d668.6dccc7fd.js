(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a8a9d668"],{"1c0e":function(t,i,s){"use strict";s.r(i);var a=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"product"},[s("loading",{attrs:{loader:"dots",active:t.isLoading},on:{"update:active":function(i){t.isLoading=i}}}),s("div",{staticClass:"product_area"},[s("div",{staticClass:"product_area_img"},[s("img",{attrs:{src:""+t.product.imageUrl[0],alt:""+t.product.title,title:""+t.product.title}})]),s("div",{staticClass:"product_area_detail"},[s("div",{staticClass:"product_area_detail_title"},[s("h1",[t._v(t._s(t.product.title))])]),s("div",{staticClass:"product_area_detail_price"},[s("span",[t._v(t._s(t.product.price))])]),s("hr"),t._m(0),s("div",{staticClass:"product_area_detail_quantity"},[s("div",[s("button",{attrs:{type:"button",disabled:1===t.quantity},on:{click:function(i){t.quantity=t.quantity-1}}},[t._v(" - ")])]),s("input",{attrs:{type:"text"},domProps:{value:t.quantity}}),s("div",[s("button",{attrs:{type:"button"},on:{click:function(i){t.quantity=t.quantity+1}}},[t._v("+")])])]),s("div",{staticClass:"product_area_detail_addbag"},[s("button",{attrs:{type:"button"},on:{click:function(i){return t.addToCart(t.product,t.quantity)}}},[t._v(" Add to Cart ")])]),s("div",{staticClass:"wishlist"},[s("div",{staticClass:"product_area_detail_wishlist",class:{hide:t.isWishList}},[s("button",{attrs:{type:"button"},on:{click:function(i){return t.addToWish(t.product)}}},[s("i",{staticClass:"far fa-heart"}),t._v(" Add to Wish List ")])]),s("div",{staticClass:"product_area_detail_remove",class:{show:t.isWishList}},[s("button",{attrs:{type:"button"},on:{click:function(i){return t.removeWish(t.product)}}},[s("i",{staticClass:"fas fa-heart"}),t._v(" Remove Wish List ")])])]),s("hr"),s("div",{staticClass:"product_area_detail_navbar"},[s("ul",[s("li",[s("span",[t._v("商品描述")]),s("span",[t._v("DESCRIPTION")]),s("p",[t._v(t._s(t.product.content))])]),s("li",[s("span",[t._v("注意事項")]),s("span",[t._v("Notice")]),s("p",[t._v(t._s(t.product.description))])])])])])]),s("div",{staticClass:"product_morelook"},[s("h1",[t._v("More Look")]),s("div",{staticClass:"product_morelook-content"},t._l(t.selectedProducts,(function(i){return s("div",{key:i.id,staticClass:"product_morelook-list",on:{click:function(i){t.getProdcut(),t.getRelatedProducts()}}},[s("div",{staticClass:"product_morelook-img"},[s("router-link",{attrs:{to:"/product/"+i.id}},[s("img",{attrs:{src:""+i.imageUrl[0],alt:""}})])],1),s("div",[s("router-link",{staticClass:"product_morelook-title",attrs:{to:"/product/"+i.id}},[t._v(" "+t._s(i.title)+" ")])],1),s("div",{staticClass:"product_morelook-price"},[s("p",[t._v("NT."+t._s(i.price))])])])})),0)])],1)},e=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"product_area_detail_flavor"},[s("span",[t._v("Flavor:白麝香")])])}],o=(s("99af"),s("4160"),s("c975"),s("45fc"),s("a434"),s("159b"),{data:function(){return{products:[],cart:[],product:{imageUrl:[]},quantity:1,relatedProducts:[],selectedProducts:[],isWishList:!1,wishid:[],wishlist:JSON.parse(localStorage.getItem("wishList"))||[],isLoading:!1}},methods:{getProducts:function(){var t=this;this.isLoading=!0,this.axios.get("".concat("https://course-ec-api.hexschool.io","/api/").concat("8e167757-8b00-4955-b28e-9494996b792d","/ec/products")).then((function(i){t.isLoading=!1,t.products=i.data.data})).catch((function(){t.isLoading=!1}))},getProdcut:function(){var t=this;this.isWishList=!1,this.isLoading=!0;var i=this.$route.params.id;this.axios.get("".concat("https://course-ec-api.hexschool.io","/api/").concat("8e167757-8b00-4955-b28e-9494996b792d","/ec/product/").concat(i)).then((function(i){t.isLoading=!1,t.product=i.data.data,t.wishlist.forEach((function(i){i.id===t.product.id&&(t.isWishList=!0),t.wishid.push(i.id)}))})).catch((function(){t.isLoading=!1}))},getRelatedProducts:function(){var t=this;this.relatedProducts=[],this.selectedProducts=[];var i=this.$route.params.id,s="".concat("https://course-ec-api.hexschool.io","/api/").concat("8e167757-8b00-4955-b28e-9494996b792d","/ec/product/").concat(i);this.isLoading=!0,this.axios.get(s).then((function(s){if(t.products.forEach((function(a){a.category===s.data.data.category&&a.id!==i&&t.relatedProducts.push(a)})),t.relatedProducts.length>4)for(var a=0;a<4;a+=1){var e=Math.random()*t.relatedProducts.length;e=Math.floor(e),t.selectedProducts.push(t.relatedProducts[e]),t.relatedProducts.splice(e,1)}else t.selectedProducts=t.relatedProducts;t.isLoading=!1}))},addToCart:function(t){var i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io","/api/").concat("8e167757-8b00-4955-b28e-9494996b792d","/ec/shopping");if(this.isInCart=this.cart.some((function(s){if(s.product.id===t.id){var e={product:t.id,quantity:s.quantity+1};return i.axios.patch(a,e).then((function(){i.$bus.$emit("getcart"),i.isLoading=!1})).catch((function(){i.isLoading=!1})),!0}return!1})),!this.isInCart){var e={product:t.id,quantity:s};this.axios.post(a,e).then((function(){i.$bus.$emit("getcart"),i.isLoading=!1})).catch((function(){i.isLoading=!1}))}},addToWish:function(t){this.isWishList=!0,this.wishlist.push(t),localStorage.setItem("wishList",JSON.stringify(this.wishlist))},removeWish:function(t){var i=this.wishid.indexOf(t.id);this.wishlist.splice(i,1),this.isWishList=!1,localStorage.setItem("wishList",JSON.stringify(this.wishlist))}},created:function(){var t=this;this.getProdcut(),this.getRelatedProducts(),this.getProducts(),this.$bus.$on("getcarts",(function(i){t.cart=i}))},beforeDestroy:function(){this.$bus.$off("specialEvent")}}),c=o,r=s("2877"),d=Object(r["a"])(c,a,e,!1,null,null,null);i["default"]=d.exports},"45fc":function(t,i,s){"use strict";var a=s("23e7"),e=s("b727").some,o=s("a640"),c=s("ae40"),r=o("some"),d=c("some");a({target:"Array",proto:!0,forced:!r||!d},{some:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})},a434:function(t,i,s){"use strict";var a=s("23e7"),e=s("23cb"),o=s("a691"),c=s("50c4"),r=s("7b0b"),d=s("65f0"),n=s("8418"),u=s("1dde"),l=s("ae40"),h=u("splice"),p=l("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,v=Math.min,_=9007199254740991,g="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!h||!p},{splice:function(t,i){var s,a,u,l,h,p,m=r(this),b=c(m.length),C=e(t,b),y=arguments.length;if(0===y?s=a=0:1===y?(s=0,a=b-C):(s=y-2,a=v(f(o(i),0),b-C)),b+s-a>_)throw TypeError(g);for(u=d(m,a),l=0;l<a;l++)h=C+l,h in m&&n(u,l,m[h]);if(u.length=a,s<a){for(l=C;l<b-a;l++)h=l+a,p=l+s,h in m?m[p]=m[h]:delete m[p];for(l=b;l>b-a+s;l--)delete m[l-1]}else if(s>a)for(l=b-a;l>C;l--)h=l+a-1,p=l+s-1,h in m?m[p]=m[h]:delete m[p];for(l=0;l<s;l++)m[l+C]=arguments[l+2];return m.length=b-a+s,u}})},c975:function(t,i,s){"use strict";var a=s("23e7"),e=s("4d64").indexOf,o=s("a640"),c=s("ae40"),r=[].indexOf,d=!!r&&1/[1].indexOf(1,-0)<0,n=o("indexOf"),u=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:d||!n||!u},{indexOf:function(t){return d?r.apply(this,arguments)||0:e(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-a8a9d668.6dccc7fd.js.map