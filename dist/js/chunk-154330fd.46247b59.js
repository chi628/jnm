(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-154330fd"],{"45fc":function(t,i,s){"use strict";var a=s("23e7"),o=s("b727").some,e=s("a640"),c=s("ae40"),r=e("some"),n=c("some");a({target:"Array",proto:!0,forced:!r||!n},{some:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"8a7d":function(t,i,s){"use strict";s.r(i);var a=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"product"},[s("loading",{attrs:{loader:"dots",active:t.isLoading},on:{"update:active":function(i){t.isLoading=i}}}),s("div",{staticClass:"product_area"},[s("div",{staticClass:"product_area_img"},[s("img",{attrs:{src:""+t.product.imageUrl[0],alt:""+t.product.title,title:""+t.product.title}})]),s("div",{staticClass:"product_area_detail"},[s("div",{staticClass:"product_area_detail_title"},[s("h1",[t._v(t._s(t.product.title))])]),s("div",{staticClass:"product_area_detail_price"},[s("span",[t._v(t._s(t.product.price))])]),s("hr"),t._m(0),s("div",{staticClass:"product_area_detail_quantity"},[s("div",[s("button",{attrs:{type:"button",disabled:1===t.product.quantity},on:{click:function(i){t.quantity=t.quantity-1}}},[t._v("-")])]),s("input",{attrs:{type:"text"},domProps:{value:t.quantity}}),s("div",[s("button",{attrs:{type:"button"},on:{click:function(i){t.quantity=t.quantity+1}}},[t._v("+")])])]),s("div",{staticClass:"product_area_detail_addbag"},[s("button",{attrs:{type:"button"},on:{click:function(i){return t.addToCart(t.product,t.quantity)}}},[t._v("Add to Cart")])]),s("div",{staticClass:"wishlist"},[s("div",{staticClass:"product_area_detail_wishlist",class:{hide:t.isWishList}},[s("button",{attrs:{type:"button"},on:{click:function(i){return t.addToWish(t.product)}}},[s("i",{staticClass:"far fa-heart"}),t._v(" Add to Wish List ")])]),s("div",{staticClass:"product_area_detail_remove",class:{show:t.isWishList}},[s("button",{attrs:{type:"button"},on:{click:function(i){return t.removeWish(t.product)}}},[s("i",{staticClass:"fas fa-heart"}),t._v(" Remove Wish List ")])])]),s("hr"),s("div",{staticClass:"product_area_detail_navbar"},[s("ul",[s("li",[s("span",[t._v("商品描述 DESCRIPTION")]),s("p",[t._v(t._s(t.product.content))])]),s("li",[s("span",[t._v("注意事項 Notice")]),s("p",[t._v(t._s(t.product.description))])])])])])]),s("div",{staticClass:"product_morelook"},[s("h1",[t._v("More Look")]),s("div",{staticClass:"product_morelook_content"},t._l(t.relatedProducts,(function(i){return s("div",{key:i.id,staticClass:"product_morelook-list",on:{click:function(i){t.getProdcut(),t.getRelatedProducts()}}},[s("div",{staticClass:"product_morelook_img"},[s("router-link",{attrs:{to:"/product/"+i.id}},[s("img",{attrs:{src:""+i.imageUrl[0],alt:""}})])],1),s("div",[s("router-link",{staticClass:"product_morelook_title",attrs:{to:"/product/"+i.id}},[t._v(" "+t._s(i.title)+" ")])],1),s("div",{staticClass:"product_morelook_price"},[s("p",[t._v("NT."+t._s(i.price))])])])})),0)])],1)},o=[function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"product_area_detail_flavor"},[s("span",[t._v("Flavor:白麝香")])])}],e=(s("99af"),s("4160"),s("c975"),s("45fc"),s("a434"),s("159b"),{data:function(){return{router:"",products:[],cart:[],product:{imageUrl:[]},quantity:1,relatedProducts:[],selectedProducts:[],isWishList:!1,wishid:[],wishlist:JSON.parse(localStorage.getItem("wishList"))||[],isLoading:!1}},methods:{getProducts:function(){var t=this;this.isLoading=!0,this.axios.get("".concat("https://course-ec-api.hexschool.io","/api/").concat("8e167757-8b00-4955-b28e-9494996b792d","/ec/products")).then((function(i){t.isLoading=!1,t.products=i.data.data})).catch((function(i){t.isLoading=!1,console.log(i)}))},getProdcut:function(){var t=this;this.isWishList=!1,this.isLoading=!0;var i=this.$route.params.id;this.axios.get("".concat("https://course-ec-api.hexschool.io","/api/").concat("8e167757-8b00-4955-b28e-9494996b792d","/ec/product/").concat(i)).then((function(i){t.isLoading=!1,t.product=i.data.data,t.wishlist.forEach((function(i){i.id===t.product.id&&(t.isWishList=!0),t.wishid.push(i.id)}))})).catch((function(i){console.log(i),t.isLoading=!1}))},getRelatedProducts:function(){var t=this;this.relatedProducts=[],this.selectedProducts=[];var i=this.$route.params.id,s="".concat("https://course-ec-api.hexschool.io","/api/").concat("8e167757-8b00-4955-b28e-9494996b792d","/ec/product/").concat(i);this.isLoading=!0,this.axios.get(s).then((function(i){if(t.products.forEach((function(s){s.category===i.data.data.category&&t.relatedProducts.push(s)})),t.relatedProducts.length>4)for(var s=0;s<4;s+=1){var a=Math.random()*t.relatedProducts.length;a=Math.floor(a),t.selectedProducts.push(t.relatedProducts[a]),t.relatedProducts.splice(a,1)}t.isLoading=!1}))},getCart:function(){var t=this;this.isLoading=!0,this.axios.get("".concat("https://course-ec-api.hexschool.io","/api/").concat("8e167757-8b00-4955-b28e-9494996b792d","/ec/shopping")).then((function(i){t.cart=i.data.data,t.subtotal=0,t.cart.forEach((function(i){t.subtotal+=i.product.price*i.quantity})),setTimeout((function(){t.isCartshow=!1}),1500),t.isLoading=!1})).catch((function(i){t.isLoading=!1,console.log(i)}))},addToCart:function(t){var i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io","/api/").concat("8e167757-8b00-4955-b28e-9494996b792d","/ec/shopping"),o=this.cart.some((function(s){if(s.product.id===t.id){var o={product:t.id,quantity:s.quantity+1};return i.axios.patch(a,o).then((function(){i.addcart=!0,i.$bus.$emit("addcart"),i.isLoading=!1})).catch((function(t){i.isLoading=!1,console.log(t)})),!0}return!1}));if(!o){var e={product:t.id,quantity:s};this.axios.post(a,e).then((function(){i.addcart=!0,i.$bus.$emit("addcart"),i.isLoading=!1})).catch((function(t){i.isLoading=!1,console.log(t)}))}},addToWish:function(t){this.isWishList=!0,this.wishlist.push(t),localStorage.setItem("wishList",JSON.stringify(this.wishlist))},removeWish:function(t){var i=this.wishid.indexOf(t.id);this.wishlist.splice(i,1),this.isWishList=!1,localStorage.setItem("wishList",JSON.stringify(this.wishlist))}},created:function(){this.getProdcut(),this.getRelatedProducts(),this.getProducts(),this.getCart()}}),c=e,r=s("2877"),n=Object(r["a"])(c,a,o,!1,null,null,null);i["default"]=n.exports},a434:function(t,i,s){"use strict";var a=s("23e7"),o=s("23cb"),e=s("a691"),c=s("50c4"),r=s("7b0b"),n=s("65f0"),d=s("8418"),u=s("1dde"),l=s("ae40"),h=u("splice"),p=l("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,g=Math.min,v=9007199254740991,_="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!h||!p},{splice:function(t,i){var s,a,u,l,h,p,b=r(this),m=c(b.length),C=o(t,m),L=arguments.length;if(0===L?s=a=0:1===L?(s=0,a=m-C):(s=L-2,a=g(f(e(i),0),m-C)),m+s-a>v)throw TypeError(_);for(u=n(b,a),l=0;l<a;l++)h=C+l,h in b&&d(u,l,b[h]);if(u.length=a,s<a){for(l=C;l<m-a;l++)h=l+a,p=l+s,h in b?b[p]=b[h]:delete b[p];for(l=m;l>m-a+s;l--)delete b[l-1]}else if(s>a)for(l=m-a;l>C;l--)h=l+a-1,p=l+s-1,h in b?b[p]=b[h]:delete b[p];for(l=0;l<s;l++)b[l+C]=arguments[l+2];return b.length=m-a+s,u}})},c975:function(t,i,s){"use strict";var a=s("23e7"),o=s("4d64").indexOf,e=s("a640"),c=s("ae40"),r=[].indexOf,n=!!r&&1/[1].indexOf(1,-0)<0,d=e("indexOf"),u=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:n||!d||!u},{indexOf:function(t){return n?r.apply(this,arguments)||0:o(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-154330fd.46247b59.js.map