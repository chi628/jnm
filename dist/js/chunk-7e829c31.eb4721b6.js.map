{"version":3,"sources":["webpack:///./src/components/Pagination.vue?55e8","webpack:///src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?b5ee","webpack:///./src/components/Pagination.vue","webpack:///./src/views/fronted/Products.vue?f69b","webpack:///src/views/fronted/Products.vue","webpack:///./src/views/fronted/Products.vue?a2ee","webpack:///./src/views/fronted/Products.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_l","page","key","on","$event","preventDefault","updatePage","_s","staticRenderFns","data","props","methods","$emit","num","component","isLoading","item","id","imageUrl","title","price","addToCart","pagination","getProducts","components","Pagination","products","showProducts","addcart","router","axios","product","quantity","created","$router","history","current","name","$bus","$on","console","log"],"mappings":"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","file":"js/chunk-7e829c31.eb4721b6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pagination\"},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"«\")]),_vm._l((_vm.page.total_pages),function(page){return _c('a',{key:page,attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.updatePage(page)}}},[_vm._v(_vm._s(page))])}),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"»\")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"pagination\">\n    <a href=\"#\">&laquo;</a>\n    <a href=\"#\" v-for=\"page in page.total_pages\" :key=\"page\"\n    @click.prevent=\"updatePage(page)\">{{page}}</a>\n    <a href=\"#\">&raquo;</a>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {};\n  },\n  props: ['page'],\n  methods: {\n    updatePage(num) {\n      this.$emit('updatepage', num);\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=c0db1f42&\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"products\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._l((_vm.showProducts),function(item){return _c('div',{key:item.id,staticClass:\"products_list\"},[_c('div',{staticClass:\"products_header\"},[_c('router-link',{attrs:{\"to\":(\"/product/\" + (item.id))}},[_c('img',{staticClass:\"products_header_img\",attrs:{\"src\":(\"\" + (item.imageUrl[0])),\"alt\":\"\"}}),_c('button',{staticClass:\"products_header_btn\",attrs:{\"type\":\"button\"}},[_vm._v(\"Quick View\")])])],1),_c('div',{staticClass:\"products_container\"},[_c('div',[_c('router-link',{staticClass:\"products_container_title\",attrs:{\"to\":(\"/product/\" + (item.id))}},[_vm._v(\" \"+_vm._s(item.title)+\" \")])],1),_c('div',{staticClass:\"products_container_price\"},[_c('p',[_vm._v(\"NT$\"+_vm._s(item.price))])])]),_c('div',{staticClass:\"products_footer\"},[_c('button',{staticClass:\"products_footer_btn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addToCart(item)}}},[_vm._v(\" Add To Cart \")])])])}),_c('div',{staticClass:\"products-pagination\"},[_c('Pagination',{attrs:{\"page\":_vm.pagination},on:{\"updatepage\":_vm.getProducts}})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"products\">\n    <loading :active.sync=\"isLoading\"></loading>\n     <div v-for=\"item in showProducts\" :key=\"item.id\" class=\"products_list\">\n        <div class=\"products_header\">\n          <router-link :to=\"`/product/${item.id}`\">\n            <img :src=\"`${item.imageUrl[0]}`\" alt class=\"products_header_img\" />\n            <button type=\"button\" class=\"products_header_btn\">Quick View</button>\n          </router-link>\n        </div>\n        <div class=\"products_container\">\n          <!-- <div>\n            <button type=\"button\" class=\"products_container_wish\">\n              <i class=\"far fa-heart\"></i>\n            </button>\n            <button type=\"button\" class=\"products_container_wish_hover\">\n              <i class=\"fas fa-heart\"></i>\n            </button>\n          </div> -->\n          <div>\n            <router-link :to=\"`/product/${item.id}`\" class=\"products_container_title\">\n              {{item.title}}\n            </router-link>\n          </div>\n          <div class=\"products_container_price\">\n            <p>NT${{item.price}}</p>\n          </div>\n        </div>\n        <div class=\"products_footer\">\n          <button type=\"button\" class=\"products_footer_btn\" @click=\"addToCart(item)\">\n              Add To Cart\n          </button>\n        </div>\n      </div>\n      <div class=\"products-pagination\">\n        <Pagination :page=\"pagination\" @updatepage=\"getProducts\"/>\n      </div>\n  </div>\n</template>\n<script>\nimport Pagination from '@/components/Pagination.vue';\n\nexport default {\n  components: {\n    Pagination,\n  },\n  data() {\n    return {\n      products: [],\n      showProducts: [],\n      isLoading: false,\n      pagination: {},\n      addcart: false,\n      router: '',\n    };\n  },\n  methods: {\n    getProducts(num = 1) {\n      // console.log('num', num)\n      const { category } = this.$route.params;\n      this.isLoading = true;\n      this.axios\n        .get(`${process.env.VUE_APP_ApiPath}/api/${process.env.VUE_APP_UUID}/ec/products?page=${num}&paged=12`)\n        .then((res) => {\n          console.log(res.data);\n          this.isLoading = false;\n          this.products = res.data.data;\n          this.products.forEach((product) => {\n            if (category === product.category) {\n              console.log('category', category);\n              this.showProducts.push(product);\n              this.category = category;\n            } else if (category === 'all') {\n              console.log('All-Products', category);\n              this.showProducts = this.products;\n              this.category = 'All Products';\n            }\n          });\n          this.pagination = res.data.meta.pagination;\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          this.isLoading = false;\n          console.log(err);\n        });\n    },\n    addToCart(item, quantity = 1) {\n      this.isLoading = true;\n      const url = `${process.env.VUE_APP_ApiPath}/api/${process.env.VUE_APP_UUID}/ec/shopping`;\n      const cart = {\n        product: item.id,\n        quantity,\n      };\n      this.axios\n        .post(url, cart)\n        .then((res) => {\n          this.isLoading = false;\n          this.addcart = true;\n          this.$bus.$emit('addcart');\n          console.log('item', res);\n        })\n        .catch((err) => {\n          this.isLoading = false;\n          console.log(err);\n        });\n    },\n  },\n  created() {\n    this.getProducts();\n    this.router = this.$router.history.current.name;\n    this.$bus.$on('getproducts', () => {\n      console.log('products-router', this.router);\n    });\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Products.vue?vue&type=template&id=32085261&\"\nimport script from \"./Products.vue?vue&type=script&lang=js&\"\nexport * from \"./Products.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}